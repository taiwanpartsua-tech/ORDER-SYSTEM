# Налаштування системи аутентифікації

## Реєстрація в системі

Система підтримує самостійну реєстрацію користувачів:

1. Відкрийте додаток
2. Натисніть "Немає аккаунта? Зареєструватись"
3. Заповніть форму реєстрації:
   - Email
   - Ім'я (необов'язково)
   - Пароль (мінімум 6 символів)
4. Натисніть "Зареєструватись"
5. Після успішної реєстрації ви можете увійти в систему

За замовчуванням, новий користувач отримує роль `customer`.

## Створення першого суперадміністратора

Після розгортання системи потрібно створити першого суперадміністратора. Виконайте наступні кроки:

### 1. Зареєструйте користувача через інтерфейс

Використовуйте форму реєстрації для створення облікового запису з вашим email та паролем.

### 2. Оновіть роль користувача на супер адміністратора

Після реєстрації виконайте наступний SQL запит у Supabase SQL Editor, замінивши `YOUR_EMAIL` на ваш email:

```sql
UPDATE user_profiles
SET role = 'super_admin'
WHERE email = 'YOUR_EMAIL';
```

### 3. Перезайдіть в систему

Вийдіть з системи та зайдіть знову. Тепер у вас будуть права суперадміністратора і ви побачите додаткові пункти меню:
- **Користувачі** - управління користувачами системи
- **Історія дій** - перегляд всіх дій користувачів

## Ролі в системі

### Суперадміністратор (super_admin)
- Повний доступ до всіх функцій системи
- Може створювати, редагувати та деактивувати користувачів
- Може переглядати історію всіх дій в системі
- Може змінювати ролі користувачів

### Постачальник (supplier)
- Доступ до функцій постачальника
- Може переглядати замовлення, прийомки, баланси
- Може виконувати операції, пов'язані з постачанням

### Замовник (customer)
- Базовий доступ до системи
- Може переглядати замовлення та виконувати базові операції

## Створення нових користувачів

Після того, як ви стали суперадміністратором, ви можете створювати нових користувачів через інтерфейс:

1. Перейдіть на вкладку **Користувачі**
2. Натисніть **Новий користувач**
3. Заповніть форму:
   - Email
   - Пароль
   - Ім'я (опціонально)
   - Роль (Замовник, Постачальник або Суперадміністратор)
4. Натисніть **Створити**

Новий користувач зможе увійти в систему з вказаним email та паролем.

## Історія дій

Система автоматично записує всі важливі дії користувачів:
- Вхід/вихід з системи
- Створення, оновлення та видалення записів
- Експорт даних
- Затвердження та відправка документів
- Операції з балансами

Історію дій можна переглянути на вкладці **Історія дій** (доступна тільки для суперадміністраторів).
